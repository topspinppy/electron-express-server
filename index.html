<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
     <!-- Compiled and minified CSS -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
     <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
     <!-- Compiled and minified JavaScript -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  </head>
  <body>


    <div class="container">
      <br />
      <h1>Connected With API</h1>
      <button id="openBtn" class="btn waves-effect waves-light"> Start </button>
      <button id="closeServer" class="btn waves-effect waves-light"> Close </button><br />
      <div id="status"> </div>
      <br />
      <h5>Logging</h5>
      <div id="parent" style="border: 2px black solid;  width: auto; height: 20rem; overflow: auto;">
        <div id="textarea1" contenteditable="true">
        </div>
      </div>
      <div id="log"></div>
      <br />
      ใส่ port ที่ต้องการ : <input type="text" value="3000" id="getport" />
    </div>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>
    <script>
      require('./renderer.js')

      var socket = io("http://localhost:1000/");
      socket.on('connect', () => {
         socket.emit('join','Hello world from clients');
      });
      
      socket.on('new-message', function(data){
          document.getElementById('textarea1').innerHTML += data+"</br>"
      });

      var textarea = document.getElementById('#parent');
      textarea.scrollTop = textarea.scrollHeight
    </script> 



  </body>
</html>
